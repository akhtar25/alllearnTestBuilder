{%extends "layout.html"%} {%block content%}
<div class="container">
<div class="box-title">
    <h3 class="box-title" style="margin-left:10px;">Online Test Report - {{ studentName }} </h3>
</div>
<div class="box-body table-responsive">
  <table class="table table-bordered table-hover table-striped text-center">
    <tr>
      <th>Overall Percentage and Marks</th>
      <th>Subjective Marks</th>
      <th>Objective Marks</th>
      <th>Correct Questions/Total Questions</th>
    </tr>
    <tr>
      <td>{{'%0.2f' % marksPercentage|float}}%&nbsp;({{totalMarks}})</td>
      <td>
        {% if subjective_marks %}
          {{subjective_marks}}
        {% else %}
          NA
        {% endif %}
      </td>
      <td>
        {% if objective_marks %}
          {{objective_marks}}
        {% else %}
          NA
        {% endif %}
      </td>
      <td>{{correct_question}}/{{total_questions}}</td>
    </tr>
  </table>
  <!-- Table for Objective Questions -->
<table class="table table-bordered table-hover table-striped text-center" style="margin-top:30px;">
                      <tr>
                        <th style="text-align:left;">Q No</th>
                        <th style="text-align:left;">Question Type</th>
                        <th style="text-align:left;">Question</th>
                        <th style="text-align:left;">Option Selected</th>
                        <th style="text-align:left;">Correct Option</th>
                        <th style="text-align:left;">Marks Scored</th>
                        <th style="text-align:left;">Result</th>                        
                      </tr>                                            
                      {% for respRow in responseCaptureRow %}  
                      {% if respRow.question_type=='MCQ1'  %}                                          
                      <tr> 
                        <td style="text-align:left;"> {{ loop.index }}</td>
                        <td style="text-align:left;"> {{ respRow.question_type }}</td>
                        <td style="text-align:left;">{{ respRow.question_description}}</td>
                        <td style="text-align:left;">
                          {% if respRow.answer_status==242 or respRow.answer_status==240 or respRow.answer_status==279 %}
                          
                            No answer selected
                          {% else %} 
                          {{respRow.response_option }} : {{ respRow.option_desc}}
                          
                          {% endif %}
                        </td>
                        <td style="text-align:left;">   
                          
                          
                            {% if respRow.answer_status==240 or respRow.answer_status==242 or respRow.answer_status==279  %}
                              NA
                            {% else %}
                              {{ respRow.correct_option}} :   {{ respRow.corr_option_desc}}
                            {% endif %}
                        </td>
                        <td style="text-align:left;">{{respRow.marks_scored}}</td>
                        <td style="text-align:left;">
                        {% if respRow.answer_status==242 or respRow.answer_status==240 or respRow.answer_status==279 %}
                  
                            No answer selected
                          {% else %} 
                        {% if respRow.result=='Correct' %}
                          <i class="large material-icons icon-green">check</i> 
                        {% else %}
                         <i class="large material-icons icon-orangered">clear</i> 
                        {% endif %}
                        
                        {% endif %}
                      </td>
                      </tr>
                      {% endif %}
                      {% endfor %}
                    </table>    

<!-- Table for Subjective Questions -->
<table class="table table-bordered table-hover table-striped text-center" style="margin-top:30px;">
                      <tr>
                        <th style="text-align:left;">Q No</th>
                        <th style="text-align:left;">Question Type</th>
                        <th style="text-align:left;">Question</th>
                        <th style="text-align:left;" colspan="2">Answer</th>
                        <th style="text-align:left;">Marks Scored</th>
                        <th style="text-align:left;">Result</th>                        
                      </tr>                                            
                      {% for respRow in responseCaptureRow %}  
                      {% if respRow.question_type=='Subjective'  %}                                          
                      <tr> 
                        <td style="text-align:left;"> {{ loop.index }}</td>
                        <td style="text-align:left;"> {{ respRow.question_type }}</td>
                        <td style="text-align:left;">{{ respRow.question_description}}</td>
                        <td style="text-align:left;" colspan="2">
                          {% if respRow.answer_status==242 or respRow.answer_status==240 or respRow.answer_status==279 %}
                          
                            NA
                          {% else %} 
                          {{respRow.response_option }}
                          
                          {% endif %}
                        </td>
                        
                        <td style="text-align:left;">{{respRow.marks_scored}}</td>
                        <td style="text-align:left;">
                        {% if respRow.answer_status==242 or respRow.answer_status==240 or respRow.answer_status==279 %}
                  
                            No answer obtained
                        {% else %} 
                          {% if respRow.answer_status==239 %}
                            Inreviewed
                          {% else %}
                            {% if respRow.result=='Correct' %}
                              <i class="large material-icons icon-green">check</i> 
                            {% else %}
                              <i class="large material-icons icon-orangered">clear</i> 
                            {% endif %}
                          {% endif %}
                        {% endif %}
                      </td>
                      </tr>
                      {% endif %}
                      {% endfor %}
                    </table>  

                  </div>
                </div>
                  {%endblock%}