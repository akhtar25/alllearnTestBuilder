{% extends "layout.html" %} {% block content %}
<div class="container">
{% if students %}
<h3>Performance Details : {{ students.full_name }}</h3>
<div>
    <!--performace graph-->
  <div class="row">    
      <div id="indivStudentPerformance">        
      </div>    
  </div>
<br><br>
</div>
<form method="POST" class="form-group ">
    <div class="row">
    <div class="col-sm-3">
    <h4>Day Specfic Performace Details:</h4>
    <label for="date">Select Date : </label>
    <input type="date" id="performace_date" name="performace_date">
    </div>
    </div>
    <p><button class="btn waves-light green lighten-1 white-text">Submit</button></p>
</form>

{% endif %}
</div>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();
 if(dd<10){
        dd='0'+dd
    } 
    if(mm<10){
        mm='0'+mm
    } 

today = yyyy+'-'+mm+'-'+dd;
document.getElementById("performace_date").setAttribute("max", today);

</script>

<script>
  var trace1 = {
    x: ["07/2012", "08/2012", "09/2012", "10/2012", "11/2012"],
    y: [60, 80, 70, 80, 60],
    mode: 'lines+markers',
    name: 'English',
    line: {
      shape: 'spline'
    },
    type: 'scatter'
  };

  var trace2 = {
    x: ["07/2012", "08/2012", "09/2012", "10/2012", "11/2012"],
    y: [60, 90, 80, 70, 50],
    mode: 'lines+markers',
    name: 'Hindi',
    line: {
      shape: 'spline'
    },
    type: 'scatter'
  };

  var trace3 = {
    x: ["07/2012", "08/2012", "09/2012", "10/2012", "11/2012"],
    y: [60, 100, 40, 80, 60],
    mode: 'lines+markers',
    name: 'Math',
    line: {
      shape: 'spline'
    },
    type: 'scatter'
  };

  var trace4 = {
    x: ["07/2012", "08/2012", "09/2012", "10/2012", "11/2012"],
    y: [70, 80, 60, 50, 20],
    mode: 'lines+markers',
    name: 'Science',  
    line: {
      shape: 'spline'
    },
    type: 'scatter'
  };

  var trace5 = {
    x: ["07/2012", "08/2012", "09/2012", "10/2012", "11/2012"],
    y: [60, 45, 65, 25, 60],
    mode: 'lines+markers',
    name: 'SSc',
    line: {
      shape: 'spline'
    },
    type: 'scatter'
  };

  var data = [trace1, trace2, trace3, trace4, trace5];

  var layout = {
    legend: {
      y: 0.5,
      traceorder: 'reversed',
      font: {
        size: 16
      },
      yref: 'paper'
    }
  };

  Plotly.newPlot('indivStudentPerformance', data, layout, {
    showlegend: true,
    displayModeBar: false
  });
</script>
{% endblock %}