"""empty message

Revision ID: 6f64f4e4b3bb
Revises: 8bd47b541678
Create Date: 2019-06-11 18:00:35.489879

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '6f64f4e4b3bb'
down_revision = '8bd47b541678'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint('question_details_slideshow_id_fkey', 'question_details', type_='foreignkey')
    op.drop_column('question_details', 'slideshow_id')
    op.drop_constraint('response_capture_slideshow_id_fkey', 'response_capture', type_='foreignkey')
    op.drop_column('response_capture', 'slideshow_id')
    op.drop_constraint('slide_tracker_chapter_id_fkey', 'slide_tracker', type_='foreignkey')
    op.drop_column('slide_tracker', 'chapter_id')
    op.add_column('topic_detail', sa.Column('chapter_num', sa.Integer(), nullable=True))
    op.add_column('topic_detail', sa.Column('class_val', sa.Integer(), nullable=True))
    op.add_column('topic_detail', sa.Column('unit_num', sa.Integer(), nullable=True))
    op.drop_constraint('topic_detail_chapter_id_fkey', 'topic_detail', type_='foreignkey')
    op.drop_constraint('topic_detail_class_id_fkey', 'topic_detail', type_='foreignkey')
    op.drop_column('topic_detail', 'class_id')
    op.drop_column('topic_detail', 'chapter_id')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('topic_detail', sa.Column('chapter_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('topic_detail', sa.Column('class_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.create_foreign_key('topic_detail_class_id_fkey', 'topic_detail', 'message_detail', ['class_id'], ['msg_id'])
    op.create_foreign_key('topic_detail_chapter_id_fkey', 'topic_detail', 'message_detail', ['chapter_id'], ['msg_id'])
    op.drop_column('topic_detail', 'unit_num')
    op.drop_column('topic_detail', 'class_val')
    op.drop_column('topic_detail', 'chapter_num')
    op.add_column('slide_tracker', sa.Column('chapter_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.create_foreign_key('slide_tracker_chapter_id_fkey', 'slide_tracker', 'message_detail', ['chapter_id'], ['msg_id'])
    op.add_column('response_capture', sa.Column('slideshow_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.create_foreign_key('response_capture_slideshow_id_fkey', 'response_capture', 'slide_tracker', ['slideshow_id'], ['slideshow_id'])
    op.add_column('question_details', sa.Column('slideshow_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.create_foreign_key('question_details_slideshow_id_fkey', 'question_details', 'slide_tracker', ['slideshow_id'], ['slideshow_id'])
    # ### end Alembic commands ###
