"""empty message

Revision ID: a9723c594c45
Revises: b167fdbd6b1e
Create Date: 2019-05-27 23:37:43.832007

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'a9723c594c45'
down_revision = 'b167fdbd6b1e'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_foreign_key(None, 'attendance', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'attendance', 'teacher_profile', ['teacher_id'], ['teacher_id'])
    op.create_foreign_key(None, 'attendance', 'school_profile', ['school_id'], ['school_id'])
    op.drop_column('attendance', 'subject_id')
    op.create_foreign_key(None, 'book_details', 'message_detail', ['class_id'], ['msg_id'])
    op.drop_column('book_details', 'subject_id')
    op.create_foreign_key(None, 'class_section', 'message_detail', ['class_id'], ['msg_id'])
    op.create_foreign_key(None, 'class_section', 'teacher_profile', ['class_teacher'], ['teacher_id'])
    op.create_foreign_key(None, 'class_section', 'school_profile', ['school_id'], ['school_id'])
    op.drop_column('class_section', 'section_id')
    op.add_column('content', sa.Column('board_id', sa.Integer(), nullable=False))
    op.alter_column('content', 'class_id',
               existing_type=sa.INTEGER(),
               nullable=False)
    op.create_foreign_key(None, 'content', 'message_detail', ['board_id'], ['msg_id'])
    op.create_foreign_key(None, 'content', 'message_detail', ['class_id'], ['msg_id'])
    op.drop_column('content', 'topic_id')
    op.drop_column('content', 'board_name')
    op.drop_column('content', 'chapter_id')
    op.drop_column('content', 'subject_id')
    op.create_foreign_key(None, 'content_tracker', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'content_tracker', 'teacher_profile', ['teacher_id'], ['teacher_id'])
    op.create_foreign_key(None, 'content_tracker', 'school_profile', ['school_id'], ['school_id'])
    op.drop_column('content_tracker', 'subject_id')
    op.drop_column('content_tracker', 'topic_id')
    op.create_foreign_key(None, 'financial_details', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'financial_details', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'performance_detail', 'student_profile', ['student_id'], ['student_id'])
    op.create_foreign_key(None, 'performance_detail', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'performance_detail', 'message_detail', ['class_id'], ['msg_id'])
    op.drop_column('performance_detail', 'section_id')
    op.create_foreign_key(None, 'post', 'user', ['user_id'], ['id'])
    op.add_column('question_details', sa.Column('board_id', sa.Integer(), nullable=False))
    op.create_foreign_key(None, 'question_details', 'message_detail', ['class_id'], ['msg_id'])
    op.create_foreign_key(None, 'question_details', 'message_detail', ['board_id'], ['msg_id'])
    op.create_foreign_key(None, 'question_details', 'slide_tracker', ['slideshow_id'], ['slideshow_id'])
    op.drop_column('question_details', 'board_name')
    op.drop_column('question_details', 'subject_id')
    op.create_foreign_key(None, 'question_options', 'message_detail', ['option_type'], ['msg_id'])
    op.create_foreign_key(None, 'question_options', 'question_details', ['question_id'], ['question_id'])
    op.create_foreign_key(None, 'recomm_detail', 'message_detail', ['subject'], ['msg_id'])
    op.create_foreign_key(None, 'response_capture', 'teacher_profile', ['teacher_id'], ['teacher_id'])
    op.create_foreign_key(None, 'response_capture', 'question_options', ['response_option'], ['option_id'])
    op.create_foreign_key(None, 'response_capture', 'student_profile', ['student_id'], ['student_id'])
    op.create_foreign_key(None, 'response_capture', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'response_capture', 'question_details', ['question_id'], ['question_id'])
    op.create_foreign_key(None, 'response_capture', 'slide_tracker', ['slideshow_id'], ['slideshow_id'])
    op.create_foreign_key(None, 'response_capture', 'school_profile', ['school_id'], ['school_id'])
    op.drop_column('response_capture', 'subject_id')
    op.create_foreign_key(None, 'result_upload', 'message_detail', ['test_type'], ['msg_id'])
    op.create_foreign_key(None, 'result_upload', 'student_profile', ['student_id'], ['student_id'])
    op.create_foreign_key(None, 'result_upload', 'message_detail', ['is_present'], ['msg_id'])
    op.create_foreign_key(None, 'result_upload', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'result_upload', 'message_detail', ['version_number'], ['msg_id'])
    op.create_foreign_key(None, 'result_upload', 'test_details', ['test_id'], ['test_id'])
    op.drop_column('result_upload', 'class_sec_id')
    op.drop_column('result_upload', 'subject_id')
    op.create_foreign_key(None, 'school_fee_mgt', 'message_detail', ['delay_reason'], ['msg_id'])
    op.create_foreign_key(None, 'school_fee_mgt', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'school_fee_mgt', 'message_detail', ['is_paid'], ['msg_id'])
    op.create_foreign_key(None, 'school_fee_mgt', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'school_fee_mgt', 'student_profile', ['student_id'], ['student_id'])
    op.create_foreign_key(None, 'search', 'school_profile', ['school_id'], ['school_id'])
    op.drop_column('slide_tracker', 'chapter_id')
    op.drop_column('slide_tracker', 'subject_id')
    op.drop_column('slide_tracker', 'topic_id')
    op.create_foreign_key(None, 'student_profile', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.create_foreign_key(None, 'student_profile', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'student_profile', 'message_detail', ['gender'], ['msg_id'])
    op.create_foreign_key(None, 'teacher_profile', 'school_profile', ['school_id'], ['school_id'])
    op.create_foreign_key(None, 'teacher_profile', 'message_detail', ['subject_name'], ['msg_id'])
    op.create_foreign_key(None, 'teacher_profile', 'message_detail', ['designation'], ['msg_id'])
    op.create_foreign_key(None, 'teacher_profile', 'class_section', ['class_sec_id'], ['class_sec_id'])
    op.drop_column('teacher_profile', 'subject_id')
    op.add_column('test_details', sa.Column('board_id', sa.Integer(), nullable=False))
    op.create_foreign_key(None, 'test_details', 'message_detail', ['board_id'], ['msg_id'])
    op.create_foreign_key(None, 'test_details', 'message_detail', ['city'], ['msg_id'])
    op.create_foreign_key(None, 'test_details', 'message_detail', ['class_id'], ['msg_id'])
    op.create_foreign_key(None, 'test_details', 'message_detail', ['state_id'], ['msg_id'])
    op.create_foreign_key(None, 'test_details', 'message_detail', ['region_id'], ['msg_id'])
    op.drop_column('test_details', 'board_name')
    op.drop_column('test_details', 'subject_id')
    op.create_foreign_key(None, 'test_questions', 'question_details', ['question_id'], ['question_id'])
    op.create_foreign_key(None, 'test_questions', 'test_details', ['test_id'], ['test_id'])
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'test_questions', type_='foreignkey')
    op.drop_constraint(None, 'test_questions', type_='foreignkey')
    op.add_column('test_details', sa.Column('subject_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('test_details', sa.Column('board_name', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'test_details', type_='foreignkey')
    op.drop_constraint(None, 'test_details', type_='foreignkey')
    op.drop_constraint(None, 'test_details', type_='foreignkey')
    op.drop_constraint(None, 'test_details', type_='foreignkey')
    op.drop_constraint(None, 'test_details', type_='foreignkey')
    op.drop_column('test_details', 'board_id')
    op.add_column('teacher_profile', sa.Column('subject_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'teacher_profile', type_='foreignkey')
    op.drop_constraint(None, 'teacher_profile', type_='foreignkey')
    op.drop_constraint(None, 'teacher_profile', type_='foreignkey')
    op.drop_constraint(None, 'teacher_profile', type_='foreignkey')
    op.drop_constraint(None, 'student_profile', type_='foreignkey')
    op.drop_constraint(None, 'student_profile', type_='foreignkey')
    op.drop_constraint(None, 'student_profile', type_='foreignkey')
    op.add_column('slide_tracker', sa.Column('topic_id', sa.VARCHAR(length=100), autoincrement=False, nullable=False))
    op.add_column('slide_tracker', sa.Column('subject_id', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.add_column('slide_tracker', sa.Column('chapter_id', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'search', type_='foreignkey')
    op.drop_constraint(None, 'school_fee_mgt', type_='foreignkey')
    op.drop_constraint(None, 'school_fee_mgt', type_='foreignkey')
    op.drop_constraint(None, 'school_fee_mgt', type_='foreignkey')
    op.drop_constraint(None, 'school_fee_mgt', type_='foreignkey')
    op.drop_constraint(None, 'school_fee_mgt', type_='foreignkey')
    op.add_column('result_upload', sa.Column('subject_id', sa.INTEGER(), autoincrement=False, nullable=False))
    op.add_column('result_upload', sa.Column('class_sec_id', sa.INTEGER(), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.drop_constraint(None, 'result_upload', type_='foreignkey')
    op.add_column('response_capture', sa.Column('subject_id', sa.INTEGER(), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'response_capture', type_='foreignkey')
    op.drop_constraint(None, 'recomm_detail', type_='foreignkey')
    op.drop_constraint(None, 'question_options', type_='foreignkey')
    op.drop_constraint(None, 'question_options', type_='foreignkey')
    op.add_column('question_details', sa.Column('subject_id', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.add_column('question_details', sa.Column('board_name', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'question_details', type_='foreignkey')
    op.drop_constraint(None, 'question_details', type_='foreignkey')
    op.drop_constraint(None, 'question_details', type_='foreignkey')
    op.drop_column('question_details', 'board_id')
    op.drop_constraint(None, 'post', type_='foreignkey')
    op.add_column('performance_detail', sa.Column('section_id', sa.VARCHAR(length=1), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'performance_detail', type_='foreignkey')
    op.drop_constraint(None, 'performance_detail', type_='foreignkey')
    op.drop_constraint(None, 'performance_detail', type_='foreignkey')
    op.drop_constraint(None, 'financial_details', type_='foreignkey')
    op.drop_constraint(None, 'financial_details', type_='foreignkey')
    op.add_column('content_tracker', sa.Column('topic_id', sa.VARCHAR(length=100), autoincrement=False, nullable=False))
    op.add_column('content_tracker', sa.Column('subject_id', sa.VARCHAR(length=120), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'content_tracker', type_='foreignkey')
    op.drop_constraint(None, 'content_tracker', type_='foreignkey')
    op.drop_constraint(None, 'content_tracker', type_='foreignkey')
    op.add_column('content', sa.Column('subject_id', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.add_column('content', sa.Column('chapter_id', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.add_column('content', sa.Column('board_name', sa.VARCHAR(length=120), autoincrement=False, nullable=False))
    op.add_column('content', sa.Column('topic_id', sa.VARCHAR(length=100), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'content', type_='foreignkey')
    op.drop_constraint(None, 'content', type_='foreignkey')
    op.alter_column('content', 'class_id',
               existing_type=sa.INTEGER(),
               nullable=True)
    op.drop_column('content', 'board_id')
    op.add_column('class_section', sa.Column('section_id', sa.VARCHAR(length=1), autoincrement=False, nullable=False))
    op.drop_constraint(None, 'class_section', type_='foreignkey')
    op.drop_constraint(None, 'class_section', type_='foreignkey')
    op.drop_constraint(None, 'class_section', type_='foreignkey')
    op.add_column('book_details', sa.Column('subject_id', sa.VARCHAR(length=120), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'book_details', type_='foreignkey')
    op.add_column('attendance', sa.Column('subject_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'attendance', type_='foreignkey')
    op.drop_constraint(None, 'attendance', type_='foreignkey')
    op.drop_constraint(None, 'attendance', type_='foreignkey')
    # ### end Alembic commands ###
